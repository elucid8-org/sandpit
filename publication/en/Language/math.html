<!DOCTYPE html>
<html class="theme-light" style="scroll-padding-top:var(--bulma-navbar-height)" >
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Doing math with Raku</title>
<link rel="icon" href="https://irclogs.raku.org/favicon.ico">
<style>/*! Vanilla CSS */span.basis{font-weight:800}span.important{font-style:italic}span.unusual{text-decoration:underline}span.code{font-weight:500;background-color:linen;display:inline-block;margin:2px;padding:2px}span.overstrike{text-decoration:line-through}span.high{vertical-align:super}span.junior{vertical-align:sub}span.replace{font-style:small-caps;text-shadow:-1px 1px}span.indexed{text-shadow:1px 1px orange}span.indexed:hover::before{content:attr(data-index-text);translate:0 -1.5em;position:absolute;opacity:75%;background-color:#40e0d0;color:indigo}span.keyboard{text-shadow:1px 1px}span.terminal{text-decoration:overline underline}span.footnote{vertical-align:super}span.developer-version{display:none;color:red}span.developer-version span.developer-note{font-family:"Brush Script MT",cursive}span.developer-version:hover{display:inline-block;transform:translate(50px, 100px);z-index:5}span.bad-markdown{text-shadow:1px 1px red}pre.code-block{background-color:#eee;margin:1rem;padding:0 1rem 1rem 1rem}pre.input-block{background-color:#eee;margin:1rem;padding:0 1rem 1rem 1rem}pre.input-block::before{content:"--- input ---";display:block;text-shadow:-2px -2px 4px #000;color:#fff;padding-bottom:1rem}pre.output-block{background-color:#eee;margin:1rem;padding:0 1rem 1rem 1rem}pre.output-block::before{content:"--- output ---";display:block;text-shadow:2px 2px 4px #000;color:#fff;padding-bottom:1rem}div.defn-text{margin-left:1rem}div.defn-term{font-weight:bold;font-style:italic}div.id-target{display:none}div.nested{margin-left:5rem}div.toc .toc-item{margin-left:calc(var(--level)*1rem)}div.toc .toc-item::before{content:attr(data-bullet)}div.toc .toc-item a{padding-left:.4rem}div.index-section{margin-left:calc((var(--level) - 1)*1rem)}div.index-section[data-index-level="1"]{text-shadow:1px 1px orange}div.index-section>a.index-ref{white-space:nowrap;display:inline-block;width:1em}div.index-section>a.index-ref+span{display:none;width:0}div.index-section>a.index-ref:hover+span{display:inline-block;position:absolute;width:auto;z-index:5;background-color:#fff5ee}span.developer-note{display:none;width:0;color:blue;text-shadow:2px 2px 5px green}span.developer-version{display:none;width:0;color:red;text-shadow:2px 2px 5px green}.delta::before,span.developer-text::before{content:"ℹ";vertical-align:super}.delta:hover .developer-version,span.developer-text:hover .developer-version{display:inline-block;position:absolute;width:100%;z-index:5;transform:translate(0.5rem, -1rem)}.delta:hover .developer-note,span.developer-text:hover .developer-note{display:inline-block;position:absolute;width:auto;z-index:5;margin-left:1rem}span.developer-text:hover{text-decoration:overline}div.footer{border-top:2px dashed;margin:1rem 0;padding:2rem}div.footer .footer-field{display:inline-block}div.footer .footer-line{display:block}.heading>a{color:maroon;text-decoration:none}h.title{font-size:larger}table,th,td{border:1px solid;border-collapse:collapse}tbody.procedural tr.procedural .procedural-cell-left{text-align:left}tbody.procedural tr.procedural .procedural-cell-centre{text-align:center}tbody.procedural tr.procedural .procedural-cell-center{text-align:center}tbody.procedural tr.procedural .procedural-cell-right{text-align:right}tbody.procedural tr.procedural .procedural-cell-top{vertical-align:text-top}tbody.procedural tr.procedural .procedural-cell-middle{vertical-align:baseline}tbody.procedural tr.procedural .procedural-cell-bottom{vertical-align:text-bottom}tbody.procedural tr.procedural .procedural-cell-label{font-weight:bold}li.item{padding-left:.4rem;margin-left:calc(var(--level)*1rem)}li.item::marker{content:attr(data-bullet)}div.rakudoc-image-placement{display:flex;flex-direction:column;align-items:center}.rakudoc-placement-error{display:flex;justify-content:sapace-around;align-items:center;color:red;font-weight:bold}.raku-anchor{font-size:.9em;text-decoration:none;visibility:hidden}.heading:hover .raku-anchor{visibility:visible;padding-left:5px}
</style>
<style>/* bulma */
#page-nav{width:25%;position:fixed}#page-nav .panel-block .toc{overflow-y:scroll;height:65vh}#page-nav .panel-block .index{overflow-y:scroll;height:65vh}.main-footer{z-index:1;position:relative}.toc-item:hover{background:var(--bulma-background)}.toc-item a{text-decoration:none;color:var(--bulma-text)}
</style>
<style>/* bulma */
.content p+ul.item-list{margin-top:0}.content p+ol.item-list{margin-top:0}.delta:hover{border:var(--bulma-border-hover) 1px solid}.navbar-start{margin-bottom:1rem}
</style>
<style>/* bulma */
label.chyronToggle input#navbar-toc-toggle{opacity:0;height:0;width:0}label.chyronToggle span.checkmark{top:1rem;position:relative;cursor:pointer}label.chyronToggle input[type=checkbox]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}label.chyronToggle span.checkmark::before{content:"[⇨";color:gray;font-weight:800;line-height:.5rem;font-size:1.75rem;margin-right:.25rem}label.chyronToggle:hover span.checkmark::before{content:"[ ⇨"}label.chyronToggle input[type=checkbox]:checked+.checkmark::before{content:"[ ⇦"}label.chyronToggle:hover input[type=checkbox]:checked+.checkmark::before{content:"[⇦"}
</style>
<style>/* graphviz */
div.graphviz{display:flex;justify-content:space-around;align-items:center;margin:auto;margin-bottom:1rem}.graphviz-error{display:flex;justify-content:space-around;align-items:center;color:red;font-weight:bold}.graphviz-error span.data{color:green}
</style>
<style>/* hilite */
.raku-code{position:relative;margin:1rem 0}.raku-code button.copy-code{cursor:pointer;opacity:0;padding:0 .25rem .25rem .25rem;position:absolute}.raku-code:hover button.copy-code{opacity:.5}.raku-code label{float:right;font-size:xx-small;font-style:italic;height:auto;padding-right:50px}.raku-code pre.browser-hl{padding:7px}.raku-code .code-name{padding-top:.75rem;padding-left:1.25rem;font-weight:500}.raku-code pre{display:inline-block;overflow:scroll;width:96%}.raku-code .rakudoc-in-code{padding:1.25rem 1.5rem}.raku-code .section{padding:0rem}.raku-code .rainbow-name_scalar{color:var(--bulma-link-40);font-weight:500}.raku-code .rainbow-name_array{color:var(--bulma-link);font-weight:500}.raku-code .rainbow-name_hash{color:var(--bulma-link-60);font-weight:500}.raku-code .rainbow-name_code{color:var(--bulma-info);font-weight:500}.raku-code .rainbow-keyword{color:var(--bulma-primary);font-weight:500}.raku-code .rainbow-operator{color:var(--bulma-success);font-weight:500}.raku-code .rainbow-type{color:var(--bulma-danger-60);font-weight:500}.raku-code .rainbow-routine{color:var(--bulma-info-30);font-weight:500}.raku-code .rainbow-string{color:var(--bulma-info-40);font-weight:500}.raku-code .rainbow-string_delimiter{color:var(--bulma-primary-40);font-weight:500}.raku-code .rainbow-escape{color:var(--bulma-black-60);font-weight:500}.raku-code .rainbow-text{color:var(--bulma-black);font-weight:500}.raku-code .rainbow-comment{color:var(--bulma-success-30);font-weight:500}.raku-code .rainbow-regex_special{color:var(--bulma-success-60);font-weight:500}.raku-code .rainbow-regex_literal{color:var(--bulma-black-60);font-weight:500}.raku-code .rainbow-regex_delimiter{color:var(--bulma-primary-60);font-weight:500}.raku-code .rainbow-rakudoc_text{color:var(--bulma-success-40);font-weight:500}.raku-code .rainbow-rakudoc_markup{color:var(--bulma-danger-40);font-weight:500}
</style>
<style>/* latexformula */
div.latex-equation{display:flex;justify-content:space-around;align-items:center}div.latex-equation a.logo{align-self:flex-last}span.latex-formula{display:inline-block;cursor:crosshair}span.latex-formula a{display:none}span.latex-formula:hover>a{display:inline-block;position:absolute;transform:translate(-3rem, -2rem);background:#faebd7}.latex-render-error{color:red;font-weight:bold}
</style>
<style>/* listfiles */
.listf-container{display:flex;flex-direction:column;margin-bottom:1.25rem;font-size:1rem;font-weight:500;line-height:1.5;border:1px solid #ccc;border-bottom:5px solid #d9d9d9;box-shadow:0 2px 3px 0 rgba(0,0,0,.07)}.listf-container .listf-caption{display:flex;justify-content:center;background:#f2f2f2;border-bottom:1px solid #ccc;color:#83858d}.listf-container .listf-file{display:inline-block;border-top:1px solid #ccc;border-bottom:1px solid #ccc;break-inside:avoid}.listf-container .listf-file .listf-link{display:inline-block;width:100%;text-align:center;padding-top:.25rem}.listf-container .listf-file p{padding-left:.5rem;padding-right:.5rem;margin-bottom:.25rem}.listf-error{color:red;font-size:xlarge}
</style>
<style>/* leafletmap */
.leaflet-map-rakudoc{margin-bottom:1rem}.leaflet-map-rakudoc div{margin:auto}
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/default.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.1/css/bulma.min.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
crossorigin=""
/>

<script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
<script src="https://rawgit.com/farzher/fuzzysort/master/fuzzysort.js"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
crossorigin=""
></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/haskell.min.js"></script>
<script src="https://unpkg.com/leaflet-providers@latest/leaflet-providers.js"
></script>

<script>    // Hilite-helper.js
    document.addEventListener('DOMContentLoaded', function () {
        // trigger the highlighter for non-Raku code
        hljs.highlightAll();

        // copy code block to clipboard adapted from solution at
        // https://stackoverflow.com/questions/34191780/javascript-copy-string-to-clipboard-as-text-html
        // if behaviour problems with different browsers add stylesheet code from that solution.
        const copyButtons = Array.from(document.querySelectorAll('.copy-code'));
        copyButtons.forEach( function( button ) {
        var codeElement = button.nextElementSibling.nextElementSibling; // skip the label and get the div
        button.addEventListener( 'click', function(insideButton) {
            var container = document.createElement('div');
            container.innerHTML = codeElement.innerHTML;
                container.style.position = 'fixed';
                container.style.pointerEvents = 'none';
                container.style.opacity = 0;
                document.body.appendChild(container);
                window.getSelection().removeAllRanges();
                var range = document.createRange();
                range.selectNode(container);
                window.getSelection().addRange(range);
                document.execCommand("copy", false);
                document.body.removeChild(container);
            });
        });
    });
</script>
<script>/* UISwitcher generated vars */
var dictionary = {
  "en": {
    "NoIndex": "No Index for this page",
    "Time": "Rendered at 15:34 UTC on 2025-01-04",
    "langName": "English",
    "Index": "Index",
    "ChangeTheme": "Change Theme",
    "UI_Switch": "Switch UI",
    "LangName": "English",
    "NoTOC": "No Table of contents for this page",
    "FileSource": "Source file: ",
    "TOC": "Table of Contents",
    "SourceModified": "Source last modified: "
  },
  "ua": {
    "Time": "Виведено о 15:34 UTC на 2025-01-04",
    "NoIndex": "Немає індексу для цієї сторінки",
    "SourceModified": "Джерело востаннє змінено: ",
    "NoTOC": "Немає змісту цієї сторінки",
    "FileSource": "SВихідний файл: ",
    "langName": "Українська",
    "UI_Switch": "Інтерфейс користувача",
    "ChangeTheme": "Змінити тему",
    "Index": "Індекс",
    "TOC": "Зміст"
  },
  "cy": {
    "ChangeTheme": "Newid Thema",
    "NoIndex": "Dim Mynegai ar gyfer y dudalen hon",
    "FileSource": "Ffeil ffynhonnell: ",
    "NoTOC": "Dim Tabl cynnwys ar gyfer y dudalen hon",
    "SourceModified": "Ffynhonnell a addaswyd ddiwethaf: ",
    "langName": "Cymraeg",
    "UI_Switch": "Newid UI",
    "Index": "Mynegai",
    "TOC": "Tabl Cynnwys",
    "Time": "Wedi'i rendro am 15:34 UTC ar 2025-01-04"
  },
  "fr": {
    "NoIndex": "Aucun index pour cette page",
    "FileSource": "Fichier source: ",
    "Time": "Rendu à 15:34 UTC à 2025-01-04",
    "UI_Switch": "Changer d'IU",
    "TOC": "Table des matières",
    "Index": "Index",
    "langName": "Français",
    "NoTOC": "Aucune table des matières pour cette page",
    "SourceModified": "Source dernière modification: ",
    "ChangeTheme": "Changer de thème"
  },
  "nl": {
    "ChangeTheme": "Thema wijzigen",
    "Time": "Gerenderd at 15:34 UTC on 2025-01-04",
    "Index": "Index",
    "UI_Switch": "Switch UI",
    "NoTOC": "Geen inhoudsopgave voor deze pagina",
    "TOC": "Inhoudsopgave",
    "SourceModified": "Bron laatst gewijzigd:",
    "langName": "Nederlands",
    "NoIndex": "Geen index voor deze pagina",
    "FileSource": "Bronbestand: "
  }
};
var def_canon = 'en';
</script>
<script>/* UISwitcher */
var UILang;
var uiselectors;
var uilang_persisted = function () { return localStorage.getItem('ui_lang');};
var persist_uilang = function ( uilang ) { localStorage.setItem( 'ui_lang', uilang );};
document.addEventListener('DOMContentLoaded', function () {
    UILang = uilang_persisted();
    if ( UILang == null ) {
        UILang = def_canon;
    }
    makeUISelector( UILang ); // comes before setUI as it has a label that needs setting
    uiselectors = document.querySelectorAll('.UISelection'); // uiselectors used in setUI
    setUI( UILang );
    uiselectors.forEach( function (elem) {
        elem.addEventListener('click', function( event ) {
            newLang = event.target.getAttribute('data-lang');
            setUI( newLang );
            persist_uilang( newLang );
        })
    })
});
function setUI( newLang ) {
    var spans = document.querySelectorAll('.Elucid8-ui');
    spans.forEach( function (elem) {
        token = elem.getAttribute('data-UIToken');
        elem.innerHTML = dictionary[newLang][token];
    });
    uiselectors.forEach( function (rem) {
        if ( rem.getAttribute('data-UIToken') == newLang ) {
            rem.classList.add('is-selected')
        }
        else {
            rem.classList.remove('is-selected');
        }
    })
};
function makeUISelector( initial ) {
    elem = document.getElementById('Elucid8_choice');
    label = elem.innerHTML;
    var options = '';
    Object.keys(dictionary).forEach(function(key) {
        isSel = key == def_canon ? ' is-selected' : '';
        options = options +
            '<a class="navbar-item UISelection' + isSel + '"' +
            'data-lang="' + key + '">' + dictionary[key]['langName'] + '</a>';
    });
    elem.innerHTML = '<a class="navbar-link">' + label + '</a>' +
        '<div class="navbar-dropdown">' +
        options +
        '</div>';
};
</script>
<script>// BulmaHelper.js
var change_theme = function (theme) {
    document.querySelector('html').className = '';
    document.querySelector('html').classList.add('theme-' + theme);
};
var persisted_theme = function () { return localStorage.getItem('theme') };
var persist_theme = function (theme) { localStorage.setItem('theme', theme) };

var persisted_tocState = function () { return localStorage.getItem('tocOpen') };
var persist_tocState = function (tocState) { localStorage.setItem('tocOpen', tocState ) };

var originalIndex;
var originalTOC;

document.addEventListener('DOMContentLoaded', function () {
    // set up functions needing document variables.
    var matchTocState = function ( state ) {
        if ( state ) {
            document.getElementById("TOC").classList.remove('is-hidden');
            document.getElementById("page-nav").classList.remove('is-hidden');
            document.getElementById("mobile-nav").classList.remove('is-hidden');
            document.getElementById("MainText").classList.add('is-three-quarters');
            document.getElementById("MainText").classList.add('column');
            document.getElementById("MainText").classList.remove('px-5');
            persist_tocState( 'open');
        }
        else {
            document.getElementById("TOC").classList.add('is-hidden');
            document.getElementById("page-nav").classList.add('is-hidden');
            document.getElementById("mobile-nav").classList.add('is-hidden');
            document.getElementById("MainText").classList.remove('is-three-quarters');
            document.getElementById("MainText").classList.remove('column');
            document.getElementById("MainText").classList.add('px-5');
            persist_tocState( 'closed' );
        }
    }
    var setTocState = function ( state ) {
        if ( state === 'closed') {
            document.getElementById("TOC").classList.add('is-hidden');
            document.getElementById("page-nav").classList.add('is-hidden');
            document.getElementById("mobile-nav").classList.add('is-hidden');
            document.getElementById("MainText").classList.remove('is-three-quarters');
            document.getElementById("MainText").classList.remove('column');
            document.getElementById("MainText").classList.add('px-5');
            document.getElementById("navbar-toc-toggle").checked = false;
        }
        else {
            document.getElementById("TOC").classList.remove('is-hidden');
            document.getElementById("page-nav").classList.remove('is-hidden');
            document.getElementById("mobile-nav").classList.remove('is-hidden');
            document.getElementById("MainText").classList.add('is-three-quarters');
            document.getElementById("MainText").classList.add('column');
            document.getElementById("MainText").classList.remove('px-5');
            document.getElementById("navbar-toc-toggle").checked = true;
        }
    };
    // initialise if localStorage is set
    let theme = persisted_theme();
    if ( theme ) {
        theme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        change_theme(theme);
        persist_theme(theme);
    }
    let tocState = persisted_tocState();
    if ( tocState ) {
        setTocState( tocState );
        persist_tocState( tocState );
    }

    // Add listeners
    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
    // Check if there are any navbar burgers
    if ($navbarBurgers.length > 0) {
        // Add a click event on each of them
        $navbarBurgers.forEach(el => {
            el.addEventListener('click', () => {
                // Get the target from the "data-target" attribute
                const target = el.dataset.target;
                const $target = document.getElementById(target);
                // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                el.classList.toggle('is-active');
                $target.classList.toggle('is-active');
            });
        });
    };
    // initialise window state
    document.getElementById('changeTheme').addEventListener('click', function () {
        let theme = persisted_theme() === 'light' ? 'dark' : 'light';
        change_theme(theme);
        persist_theme(theme);
    });
    document.getElementById("navbar-toc-toggle").addEventListener('change', function() {
        matchTocState( this.checked )
    });
    document.getElementById('toc-tab').addEventListener('click', function () { swap_toc_index('','toc') });
    document.getElementById('index-tab').addEventListener('click', function () { swap_toc_index('','index') });
    document.getElementById('mtoc-tab').addEventListener('click', function () { swap_toc_index('m','toc') });
    document.getElementById('mindex-tab').addEventListener('click', function () { swap_toc_index('m','index') });
    originalTOC = document.getElementById('toc-menu').getHTML();
    originalIndex = document.getElementById('index-menu').getHTML();
    document.getElementById("page-nav-search").addEventListener('keyup', function (event) {
        filtersearch(event, 'toc-menu', 'index-menu', 'page-nav')
    });
    document.getElementById("mobile-nav-search").addEventListener('keyup', function (event) {
        filtersearch(event, 'mtoc-menu', 'mindex-menu', 'mobile-nav')
    });
});
function filtersearch(event, toc,index,nav) {
    document.getElementById(toc).innerHTML = originalTOC;
    document.getElementById(index).innerHTML = originalIndex;
    var searchText = event.srcElement.value.toLowerCase();
    if (searchText.length === 0) return;
    var menuListElements = document.getElementById(nav).querySelectorAll('.toc-item, .index-section');
    var matchingListElements = Array.from(menuListElements).filter(function (item) {
        var el;
        if ( item.classList.contains('toc-item') ) {
            el = item.querySelector('a');
        } else {
            el = item.querySelector('.index-entry')
        }
        var listItemHTML = el.innerHTML;
        var fuzzyRes = fuzzysort.go(searchText, [listItemHTML])[0];
        if (fuzzyRes === undefined || fuzzyRes.score <= 0) {
            return false;
        }
        var res = fuzzyRes.highlight('<b>','</b>');
        if (res !== null) {
            el.innerHTML = res;
            return true;
        } else {
            return false;
        }
    });
    menuListElements.forEach(function(elem){elem.classList.add('is-hidden')});
    matchingListElements.forEach(function(elem){elem.classList.remove('is-hidden')});
};
function swap_toc_index(div, activate) {
    let disactivate = (activate == 'toc') ? 'index' : 'toc';
    document.getElementById( div + activate + '-tab').classList.add('is-active');
    document.getElementById( div + disactivate + '-menu').classList.add('is-hidden');
    document.getElementById( div + disactivate + '-tab').classList.remove('is-active');
    document.getElementById( div + activate + '-menu').classList.remove('is-hidden');
}
</script>


    <link rel="icon" href="https://irclogs.raku.org/favicon.ico">
    </head>
    <body class="has-navbar-fixed-top">
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <figure class="navbar-item is-256x256">
            <a href="/index.html">
            <img class="is-rounded" src="https://avatars.githubusercontent.com/u/58170775">
            </a>
        </figure>
        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="pageNavigation">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
    </div>
    <div id="pageNavigation" class="navbar-menu">
        <div class="navbar-start">
            <label class="chyronToggle">
              <input id="navbar-toc-toggle" type="checkbox" />
              <span class="checkmark"> </span>
            </label>
        </div>
        <div class="navbar-end">
             <div id="Elucid8_choice" class="navbar-item has-dropdown is-hoverable"><span class="Elucid8-ui" data-UIToken="UI_Switch">UI_Switch</span></div> 
            <div class="navbar-item">
                <button id="changeTheme" class="button"><span class="Elucid8-ui" data-UIToken="ChangeTheme">ChangeTheme</span></button>
            </div>
        </div>
        <nav class="panel is-hidden-tablet" id="mobile-nav">
          <div class="panel-block">
            <p class="control has-icons-left">
              <input class="input" type="text" placeholder="Search" id="mobile-nav-search"/>
              <span class="icon is-left">
                <i class="fas fa-search" aria-hidden="true"></i>
              </span>
            </p>
          </div>
          <p class="panel-tabs">
            <a id="mtoc-tab"><span class="Elucid8-ui" data-UIToken="TOC">TOC</span></a>
            <a id="mindex-tab"><span class="Elucid8-ui" data-UIToken="Index">Index</span></a>
          </p>
            <aside id="mtoc-menu" class="panel-block">
            <div class="toc"><div class="toc-item" style="--level:0;" data-bullet=""><a href="#Arithmetic">Arithmetic</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Table">Table</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Sets">Sets</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Sequences">Sequences</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Mathematical_constants">Mathematical constants</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Numerical_integration_of_ordinary_differential_equations">Numerical integration of ordinary differential equations</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Requirements">Requirements</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Malthus_model">Malthus model</a></div>
<div class="toc-item" style="--level:2;" data-bullet="‣"><a href="#Step_by_step_explanation">Step by step explanation</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Logistic_model">Logistic model</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Strong_Allee_Effect">Strong Allee Effect</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Weak_Allee_Effect">Weak Allee Effect</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Extra_info">Extra info</a></div>
</div>

            </aside>
            <aside id="mindex-menu" class="panel-block is-hidden">
            <p><span class="Elucid8-ui" data-UIToken="NoIndex">NoIndex</span></p>
            </aside>
        </nav>
    </div>
</nav>
<nav class="panel is-hidden-mobile" id="page-nav">
  <div class="panel-block">
    <p class="control has-icons-left">
      <input class="input" type="text" id="page-nav-search"/>
      <span class="icon is-left">
        <i class="fas fa-search" aria-hidden="true"></i>
      </span>
    </p>
  </div>
  <p class="panel-tabs">
    <a id="toc-tab"><span class="Elucid8-ui" data-UIToken="TOC">TOC</span></a>
    <a id="index-tab"><span class="Elucid8-ui" data-UIToken="Index">Index</span></a>
  </p>
    <aside id="toc-menu" class="panel-block">
    <div class="toc"><div class="toc-item" style="--level:0;" data-bullet=""><a href="#Arithmetic">Arithmetic</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Table">Table</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Sets">Sets</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Sequences">Sequences</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Mathematical_constants">Mathematical constants</a></div>
<div class="toc-item" style="--level:0;" data-bullet=""><a href="#Numerical_integration_of_ordinary_differential_equations">Numerical integration of ordinary differential equations</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Requirements">Requirements</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Malthus_model">Malthus model</a></div>
<div class="toc-item" style="--level:2;" data-bullet="‣"><a href="#Step_by_step_explanation">Step by step explanation</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Logistic_model">Logistic model</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Strong_Allee_Effect">Strong Allee Effect</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Weak_Allee_Effect">Weak Allee Effect</a></div>
<div class="toc-item" style="--level:1;" data-bullet="▹"><a href="#Extra_info">Extra info</a></div>
</div>

    </aside>
    <aside id="index-menu" class="panel-block is-hidden">
    <p><span class="Elucid8-ui" data-UIToken="NoIndex">NoIndex</span></p>
    </aside>
</nav>

    <div class="columns">
    <div id="TOC" class="column is-one-quarter">
        
    </div>
    <div id="MainText" class="column">
        <section class="section">
  <div class="container">
<div id="Doing_math_with_Raku"></div><h1 class="title is-centered">Doing math with Raku</h1>

<p class="subtitle">Different mathematical paradigms and how they are implemented in this language</p>
  </div>
</section>

        <div class="content px-4">
        <h1 id="Arithmetic" class="heading py-2 "><a href="#" title="go to top of document">Arithmetic</a><a class="raku-anchor" title="direct link" href="#Arithmetic">§</a></h1>
<p id="4f0d82a">Raku can do arithmetic using different data types. <a href="/type/Num"><span class="code">Num</span></a>, <a href="/type/Rat"><span class="code">Rat</span></a> and <a href="/type/Complex"><span class="code">Complex</span></a> can all operate as a <a href="https://en.wikipedia.org/wiki/Field_(mathematics)">field under the operations of addition, subtraction, multiplication and division</a> (technically, it should be noted that data types dealing with floating point number representations are not a field in the mathematical sense due to the inherent imprecisions of their arithmetic. However, they constitute an approximate enough, computer friendly version of such mathematical objects for most of the cases). The equivalent mathematical fields are: </p>
<h1 id="Table" class="heading py-2 "><a href="#" title="go to top of document">Table</a><a class="raku-anchor" title="direct link" href="#Table">§</a></h1>
<table class="table is-striped is-bordered">	<thead>
		<tr><th>Raku class</th><th>Field</th></tr>
	</thead>	<tbody>
		<tr><td>Rat</td><td>ℚ</td></tr>
		<tr><td>Num</td><td>ℝ</td></tr>
		<tr><td>Complex</td><td>ℂ</td></tr>
			</tbody>
</table>
<p id="5ad2cab">The integers (<a href="/type/Int"><span class="code">Int</span></a>), or ℤ, as they're usually called in mathematics, are not a mathematical field but rather a ring, since they are not closed under multiplicative inverses. However, if the integer division <span class="code">div</span> is used, their operations will always yield other integers; if <span class="code">/</span> is used, on the other hand, in general the result will be a <a href="/type/Rat"><span class="code">Rat</span></a>. </p>
<p id="754365b">Besides, <a href="/type/Int"><span class="code">Int</span></a> can do infinite-precision arithmetic (or at least infinite as memory allows; <span class="code">Numeric overflow</span> can still occur), without falling back to <a href="/type/Num"><span class="code">Num</span></a> if the number is too big: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@powers</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;2<span class="rainbow-operator">,</span>&nbsp;2&nbsp;<span class="rainbow-operator">**</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">...</span>&nbsp;Inf;&nbsp;<span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-name_array">@powers</span>[4].<span class="rainbow-routine">chars</span>;&nbsp;<span class="rainbow-comment"># OUTPUT: «19729␤»</span>
</pre>
</div>
                </div>
            <p id="ab5df96">Also strictly speaking, the Rational class that behaves like a mathematical field is <a href="/type/FatRat"><span class="code">FatRat</span></a>. For efficiency reasons, operating with <a href="/type/Rat"><span class="code">Rat</span></a>s will fall back to <a href="/type/Num"><span class="code">Num</span></a> when the numbers are big enough or when there is a big difference between numerator and denominator. <a href="/type/FatRat"><span class="code">FatRat</span></a> can work with arbitrary precision, the same as the default <a href="/type/Int"><span class="code">Int</span></a> class. </p>
<p id="771c24c">Some modules in the ecosystem can work with additional data types mathematically: </p>

<ul class="item-list"><li class="item" data-bullet="•" style="--level:0;"> <p id="113a606"><a href="https://github.com/colomon/Math-Vector"><span class="code">Math::Vector</span></a> basic operations for <a href="https://en.wikipedia.org/wiki/Coordinate_vector">vectors</a>. </p></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="d2f952b"><a href="https://github.com/pierre-vigier/Perl6-Math-Matrix"><span class="code">Math::Matrix</span></a> operates on <a href="https://en.wikipedia.org/wiki/Matrix_(mathematics)">matrices rings over numeric rings</a>. </p></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="299c364"><a href="https://github.com/Util/Perl6-Math-Quaternion"><span class="code">Math::Quaternion</span></a> operates on the <a href="https://en.wikipedia.org/wiki/Quaternion">quaternion algebra, ℍ</a>, which are a generalization of complex numbers. </p></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="8dcec9f"><a href="https://github.com/colomon/Math-Polynomial"><span class="code">Math::Polynomial</span></a> works with polynomials, and is able to do simple arithmetic with them. </p></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="6088a83"><a href="https://github.com/raydiak/Math-Symbolic"><span class="code">Math::Symbolic</span></a>, for symbolic math. </p></li>
</ul>
<p id="0ff11d6">Numbers are duck-typed automatically to the numeric class they actually represent: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
.^<span class="rainbow-routine">name</span>.<span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-keyword">for</span>&nbsp;(4<span class="rainbow-operator">,</span>&nbsp;⅗<span class="rainbow-operator">,</span>&nbsp;1e-9<span class="rainbow-operator">,</span>&nbsp;3+.1i);&nbsp;<span class="rainbow-comment"># OUTPUT: «Int␤Rat␤Num␤Complex␤»</span>
</pre>
</div>
                </div>
            <p id="cb36e47">Arithmetic operations are performed by taking into account the type of operands: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;.33-.22-.11&nbsp;<span class="rainbow-operator">==</span>&nbsp;0;&nbsp;<span class="rainbow-comment"># OUTPUT: «True␤»</span>
</pre>
</div>
                </div>
            <p id="e3dc816">In this case, all numbers are interpreted as <a href="/type/Rat"><span class="code">Rat</span></a>s, which makes the operation exact. In general, most other languages would interpret them as floating point numbers, which can also be achieved in Raku if needed: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;.33.<span class="rainbow-type">Num</span>&nbsp;<span class="rainbow-operator">-</span>.22.<span class="rainbow-type">Num</span>&nbsp;<span class="rainbow-operator">-</span>&nbsp;.11.<span class="rainbow-type">Num</span>;&nbsp;<span class="rainbow-comment"># OUTPUT: «1.3877787807814457e-17␤»</span>
</pre>
</div>
                </div>
            <p id="8c680f0">For cases such as this, Raku also includes an <span class="code">approximately equal</span> operator, <a href="/language/operators">≅</a> </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;.33.<span class="rainbow-type">Num</span>&nbsp;<span class="rainbow-operator">-</span>.22.<span class="rainbow-type">Num</span>&nbsp;<span class="rainbow-operator">-</span>&nbsp;.11.<span class="rainbow-type">Num</span>&nbsp;<span class="rainbow-operator">≅</span>&nbsp;0;&nbsp;<span class="rainbow-comment"># OUTPUT: «True␤»</span>
</pre>
</div>
                </div>
            <h1 id="Sets" class="heading py-2 "><a href="#" title="go to top of document">Sets</a><a class="raku-anchor" title="direct link" href="#Sets">§</a></h1>
<p id="3c3dc48">Raku includes the <a href="/type/Set"><span class="code">Set</span></a> data type, as well as support for <a href="/language/setbagmix">most set operations</a>. <a href="https://en.wikipedia.org/wiki/Algebra_of_sets">Union and intersection</a> are not only native operations, they use their <span class="important">natural</span> symbols, ∩ and ∪. For instance, this code would check the fundamental laws of the arithmetic of sets for a limited number of sets: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@arbitrary-numbers</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;^100;<br><span class="rainbow-keyword">my</span>&nbsp;\U&nbsp;<span class="rainbow-operator">=</span>&nbsp;<span class="rainbow-name_array">@arbitrary-numbers</span>.<span class="rainbow-type">Set</span>;<br><br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@sets</span>;<br><br><span class="rainbow-name_array">@sets</span>.push:&nbsp;<span class="rainbow-type">Set</span>.<span class="rainbow-routine">new</span>(&nbsp;<span class="rainbow-name_array">@arbitrary-numbers</span>.<span class="rainbow-routine">pick</span>(&nbsp;<span class="rainbow-name_array">@arbitrary-numbers</span>.<span class="rainbow-routine">elems</span>.<span class="rainbow-routine">rand</span>))&nbsp;<span class="rainbow-keyword">for</span>&nbsp;<span class="rainbow-name_array">@arbitrary-numbers</span>;<br><br><span class="rainbow-keyword">my</span>&nbsp;(<span class="rainbow-name_array">@union</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-name_array">@intersection</span>);<br><br><span class="rainbow-keyword">for</span>&nbsp;<span class="rainbow-name_array">@sets</span>&nbsp;<span class="rainbow-keyword">-&gt;</span>&nbsp;<span class="rainbow-name_scalar">$set</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_array">@union</span>.push:&nbsp;<span class="rainbow-name_scalar">$set</span>&nbsp;<span class="rainbow-operator">∩</span>&nbsp;<span class="rainbow-name_scalar">$set</span>&nbsp;<span class="rainbow-operator">===</span>&nbsp;<span class="rainbow-name_scalar">$set</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_array">@intersection</span>.push:&nbsp;<span class="rainbow-name_scalar">$set</span>&nbsp;<span class="rainbow-operator">∪</span>&nbsp;<span class="rainbow-name_scalar">$set</span>&nbsp;<span class="rainbow-operator">===</span>&nbsp;<span class="rainbow-name_scalar">$set</span>;<br>}<br><br><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">Idempotent union is </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">so</span>&nbsp;<span class="rainbow-name_array">@union</span>.<span class="rainbow-routine">all</span>;<br><span class="rainbow-comment"># OUTPUT: «Idempotent union is True␤»<br></span><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">Idempotent intersection is </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">so</span>&nbsp;<span class="rainbow-name_array">@intersection</span>.<span class="rainbow-routine">all</span>;<br><span class="rainbow-comment"># OUTPUT: «Idempotent intersection is True␤»<br></span><span class="rainbow-keyword">my</span>&nbsp;(<span class="rainbow-name_array">@universe</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-name_array">@empty-set</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-name_array">@id-universe</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-name_array">@id-empty</span>);<br><br><span class="rainbow-keyword">for</span>&nbsp;<span class="rainbow-name_array">@sets</span>&nbsp;<span class="rainbow-keyword">-&gt;</span>&nbsp;\A&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_array">@universe</span>.push:&nbsp;A&nbsp;<span class="rainbow-operator">∪</span>&nbsp;U&nbsp;<span class="rainbow-operator">===</span>&nbsp;U;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_array">@id-universe</span>.push:&nbsp;A&nbsp;<span class="rainbow-operator">∩</span>&nbsp;U&nbsp;<span class="rainbow-operator">===</span>&nbsp;A;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_array">@empty-set</span>.push:&nbsp;A&nbsp;<span class="rainbow-operator">∩</span>&nbsp;∅&nbsp;<span class="rainbow-operator">===</span>&nbsp;∅;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_array">@id-empty</span>.push:&nbsp;A&nbsp;<span class="rainbow-operator">∪</span>&nbsp;∅&nbsp;<span class="rainbow-operator">===</span>&nbsp;A;<br>}<br><br><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">Universe dominates </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">so</span>&nbsp;<span class="rainbow-name_array">@universe</span>.<span class="rainbow-routine">all</span>;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># OUTPUT: «Universe dominates True␤»<br></span><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">Empty set dominates </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">so</span>&nbsp;<span class="rainbow-name_array">@empty-set</span>.<span class="rainbow-routine">all</span>;&nbsp;&nbsp;<span class="rainbow-comment"># OUTPUT: «Empty set dominates True␤»<br></span><br><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">Identity with U </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">so</span>&nbsp;<span class="rainbow-name_array">@id-universe</span>.<span class="rainbow-routine">all</span>;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># OUTPUT: «Identity with U True␤»<br></span><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">Identity with ∅ </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">so</span>&nbsp;<span class="rainbow-name_array">@id-empty</span>.<span class="rainbow-routine">all</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># OUTPUT: «Identity with ∅ True»</span>
</pre>
</div>
                </div>
            <p id="927975e">In this code, which uses the <a href="/language/setbagmix">empty set</a> which is already defined by Raku, not only do we check if the equalities in the algebra of sets hold, we also use, via <a href="/language/variables">sigilless variables</a> and the Unicode form of the set operators, expressions that are as close as possible to the original form; <span class="code">A ∪ U === U</span>, for example, except for the use of the <a href="/routine/===">value identity operator <span class="code">===</span></a> is very close to the actual mathematical expression in the <a href="https://en.wikipedia.org/wiki/Algebra_of_sets">Wikipedia entry</a>. </p>
<p id="4b2efef">We can even test De Morgan's law, as in the code below: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@alphabet</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">a</span><span class="rainbow-string_delimiter">'</span>..<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">z</span><span class="rainbow-string_delimiter">'</span>;<br><span class="rainbow-keyword">my</span>&nbsp;\U&nbsp;<span class="rainbow-operator">=</span>&nbsp;<span class="rainbow-name_array">@alphabet</span>.<span class="rainbow-type">Set</span>;<br><span class="rainbow-keyword">sub</span>&nbsp;postfix:<span class="rainbow-string_delimiter">&lt;</span><span class="rainbow-string">⁻</span><span class="rainbow-string_delimiter">&gt;</span>(<span class="rainbow-type">Set</span>&nbsp;<span class="rainbow-name_scalar">$a</span>)&nbsp;{&nbsp;U&nbsp;<span class="rainbow-operator">⊖</span>&nbsp;<span class="rainbow-name_scalar">$a</span>&nbsp;}<br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@sets</span>;<br><span class="rainbow-name_array">@sets</span>.push:&nbsp;<span class="rainbow-type">Set</span>.<span class="rainbow-routine">new</span>(&nbsp;<span class="rainbow-name_array">@alphabet</span>.<span class="rainbow-routine">pick</span>(&nbsp;<span class="rainbow-name_array">@alphabet</span>.<span class="rainbow-routine">elems</span>.<span class="rainbow-routine">rand</span>))&nbsp;<span class="rainbow-keyword">for</span>&nbsp;<span class="rainbow-name_array">@alphabet</span>;<br><span class="rainbow-keyword">my</span>&nbsp;(<span class="rainbow-name_scalar">$de-Morgan1</span><span class="rainbow-operator">,</span><span class="rainbow-name_scalar">$de-Morgan2</span>)&nbsp;<span class="rainbow-operator">=</span>&nbsp;(<span class="rainbow-type">True</span>,<span class="rainbow-type">True</span>);<br><span class="rainbow-keyword">for</span>&nbsp;<span class="rainbow-name_array">@sets</span>&nbsp;<span class="rainbow-operator">X</span>&nbsp;<span class="rainbow-name_array">@sets</span>&nbsp;<span class="rainbow-keyword">-&gt;</span>&nbsp;(\A<span class="rainbow-operator">,</span>&nbsp;\B){<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_scalar">$de-Morgan1</span>&nbsp;<span class="rainbow-operator">&amp;&amp;</span><span class="rainbow-operator">=</span>&nbsp;(A&nbsp;<span class="rainbow-operator">∪</span>&nbsp;B)<span class="rainbow-operator">⁻</span>&nbsp;&nbsp;<span class="rainbow-operator">===</span>&nbsp;A⁻&nbsp;<span class="rainbow-operator">∩</span>&nbsp;B⁻;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-name_scalar">$de-Morgan2</span>&nbsp;<span class="rainbow-operator">&amp;&amp;</span><span class="rainbow-operator">=</span>&nbsp;(A&nbsp;<span class="rainbow-operator">∩</span>&nbsp;B)<span class="rainbow-operator">⁻</span>&nbsp;&nbsp;<span class="rainbow-operator">===</span>&nbsp;A⁻&nbsp;<span class="rainbow-operator">∪</span>&nbsp;B⁻;<br>}<br><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">1st De Morgan is </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-name_scalar">$de-Morgan1</span>;<br><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-string">2nd De Morgan is </span><span class="rainbow-string_delimiter">&quot;</span><span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-name_scalar">$de-Morgan2</span>;
</pre>
</div>
                </div>
            <p id="1e77554">We declare <span class="code">⁻</span> as the <span class="important">complement</span> operation, which computes the symmetrical difference ⊖ between the Universal set <span class="code">U</span> and our set. Once that is declared, it is relatively easy to express operations such as the complementary of the union of A and B, <span class="code">(A ∪ B)⁻</span>, with a notation that is very close to the original mathematical notation. </p>
<h1 id="Sequences" class="heading py-2 "><a href="#" title="go to top of document">Sequences</a><a class="raku-anchor" title="direct link" href="#Sequences">§</a></h1>
<p id="0809881">A <a href="https://en.wikipedia.org/wiki/Sequence">sequence</a> is an <span class="important">enumerated</span> collection of objects in which repetitions are allowed, and also a first-class data type in Raku called <a href="/type/Seq"><span class="code">Seq</span></a>. <a href="/type/Seq"><span class="code">Seq</span></a> is able to represent infinite sequences, like the natural numbers: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">my</span>&nbsp;\𝕟&nbsp;<span class="rainbow-operator">=</span>&nbsp;1,2&nbsp;<span class="rainbow-operator">…</span>&nbsp;∞;<br><span class="rainbow-routine">say</span>&nbsp;𝕟[3];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># OUTPUT: «4␤»</span>
</pre>
</div>
                </div>
            <p id="f6a59e1">Infinite sequences use ∞, <span class="code">Inf</span> or <span class="code">*</span> (Whatever) as terminator. <a href="/language/operators">…</a> is the list generator, which in fact can understand arithmetic and geometric progression sequences as long as you insert the first numbers: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;1,5,9&nbsp;<span class="rainbow-operator">…</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">&gt;</span>&nbsp;100;<br><span class="rainbow-comment"># OUTPUT: «(1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61 65 69 73 77 81 85 89 93 97 101)␤»<br></span><span class="rainbow-routine">say</span>&nbsp;1,3,9&nbsp;<span class="rainbow-operator">…</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">&gt;</span>&nbsp;337;&nbsp;<span class="rainbow-comment"># OUTPUT: «(1 3 9 27 81 243 729)␤»</span>
</pre>
</div>
                </div>
            <p id="99d78f4">The first sequence will be terminated when the generated number is bigger than 100; the second sequence, which is a geometric progression, when it is bigger than 337. </p>
<p id="f2522db">The fact that an arbitrary generator can be used makes easy to generate sequences such as <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci numbers</a>: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;1,1<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">+</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">…</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">&gt;</span>&nbsp;50;<span class="rainbow-comment">#  OUTPUT: «(1 1 2 3 5 8 13 21 34 55)␤»</span>
</pre>
</div>
                </div>
            <p id="48979db">We can, in fact, compute the approximation to the <a href="https://en.wikipedia.org/wiki/Golden_ratio">golden ratio</a> this way: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@phis</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;(2.<span class="rainbow-type">FatRat</span><span class="rainbow-operator">,</span>&nbsp;1&nbsp;<span class="rainbow-operator">+</span>&nbsp;1&nbsp;<span class="rainbow-operator">/</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">...</span>&nbsp;<span class="rainbow-operator">*</span>);<br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_array">@otherphi</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;(1&nbsp;<span class="rainbow-operator">-</span>&nbsp;<span class="rainbow-name_array">@phis</span>[200]<span class="rainbow-operator">,</span>&nbsp;1&nbsp;<span class="rainbow-operator">+</span>&nbsp;1&nbsp;<span class="rainbow-operator">/</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">...</span>&nbsp;<span class="rainbow-operator">*</span>);<br><span class="rainbow-routine">say</span>&nbsp;<span class="rainbow-name_array">@otherphi</span>[^10<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">|</span>(20<span class="rainbow-operator">,</span>&nbsp;30&nbsp;<span class="rainbow-operator">...</span>&nbsp;100)];&nbsp;&nbsp;<span class="rainbow-comment"># OUTPUT:<br></span><span class="rainbow-comment"># «((-0.61803398874989484820458683436563811772030918<br></span><span class="rainbow-comment"># -0.61803398874989484820458683436563811772030918<br></span><span class="rainbow-comment"># -0.61803398874989484820458683436563811772030918<br></span><span class="rainbow-comment"># -0.61803398874989484820458683436563811772030918<br></span><span class="rainbow-comment"># -0.61803398874989484820458683436563811772030918<br></span><span class="rainbow-comment"># -0.618033…»</span>
</pre>
</div>
                </div>
            <p id="8877fc0">The <a href="https://github.com/ajs/perl6-Math-Sequences">Math::Sequences</a> module includes many mathematical sequences, already defined for you. It has many <a href="https://oeis.org/">sequences from the encyclopedia</a>, some of them with their original name, such as ℤ. </p>
<p id="48a0144">Some set operators also operate on sequences, and they can be used to find out if an object is part of it: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;876&nbsp;<span class="rainbow-operator">∈</span>&nbsp;(7,14&nbsp;<span class="rainbow-operator">…</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">&gt;</span>&nbsp;1000)&nbsp;;&nbsp;<span class="rainbow-comment"># OUTPUT: «False␤»</span>
</pre>
</div>
                </div>
            <p id="58fc316">In this particular case, we can find out if <span class="code">876</span> is a multiple of 7 straight away, but the same principle holds for other sequences using complicated generators. And we can use set inclusion operators too: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;(55,89).<span class="rainbow-type">Set</span>&nbsp;<span class="rainbow-operator">⊂</span>&nbsp;(1,1<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">+</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">…</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-operator">&gt;</span>&nbsp;200);&nbsp;<span class="rainbow-comment"># OUTPUT: «True␤»</span>
</pre>
</div>
                </div>
            <p id="899aaec">That said, it does not take into account if it is effectively a subsequence, just the presence of the two elements here. Sets have no order, and even if you don't explicitly cast the subsequence into a Set or explicitly cast it into a <a href="/type/Seq"><span class="code">Seq</span></a> it will be coerced into such for the application of the inclusion operator. </p>

<div class="id-target" id="Mathematical constants"></div><h1 id="Mathematical_constants" class="heading py-2 "><a href="#" title="go to top of document">Mathematical constants</a><a class="raku-anchor" title="direct link" href="#Mathematical constants">§</a></h1>
<p id="de2da00">Raku includes a set of mathematical constants: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-routine">say</span>&nbsp;π;&nbsp;<span class="rainbow-comment"># OUTPUT: «3.141592653589793␤»<br></span><span class="rainbow-routine">say</span>&nbsp;τ;&nbsp;<span class="rainbow-comment"># Equivalent to 2π; OUTPUT: «6.283185307179586␤»<br></span><span class="rainbow-routine">say</span>&nbsp;𝑒;&nbsp;<span class="rainbow-comment"># OUTPUT: «2.718281828459045␤»</span>
</pre>
</div>
                </div>
            <p id="687b343">These constants are also available through <a href="/language/unicode_ascii">ASCII equivalents</a>: <span class="code">e</span>, <span class="code">pi</span> and <span class="code">tau</span>. </p>
<p id="4107c5a">The <a href="https://github.com/JJ/p6-math-constants">Math::Constants</a> module includes an additional series of physical and mathematical constants such as the previously mentioned golden ratio φ or the Planck's constant ℎ. </p>
<p id="bba6082">Since Raku allows for definition of variables that use Unicode graphemes, and also variable and constant names without any kind of sigil, it is considered a good practice to use the actual mathematical name of concepts to denominate them wherever possible. </p>

<div class="id-target" id="Numerical integration of ordinary differential equations"></div><h1 id="Numerical_integration_of_ordinary_differential_equations" class="heading py-2 "><a href="#" title="go to top of document">Numerical integration of ordinary differential equations</a><a class="raku-anchor" title="direct link" href="#Numerical integration of ordinary differential equations">§</a></h1>
<p id="70c95f3">Raku is an amazing programming language, and you can do a lot of cool math with it. A great amount of work during an applied mathematician's work is to simulate the models they create. For this reason, in every coding language, a numerical integrator is a must-have. Learning how to do this in Raku can be very useful. </p>
<h2 id="Requirements" class="heading py-2 "><a href="#" title="go to top of document">Requirements</a><a class="raku-anchor" title="direct link" href="#Requirements">§</a></h2>
<p id="54efec3">In Raku there are some modules in the ecosystem that can make it easier: </p>

<ul class="item-list"><li class="item" data-bullet="•" style="--level:0;"> <p id="69b32fe"><a href="https://github.com/moritz/Math-Model"><span class="code">Math::Model</span></a> which lets you write mathematical and physical models in an easy and natural way. </p></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="e4a96f4"><a href="https://github.com/moritz/Math-RungeKutta"><span class="code">Math::RungeKutta</span></a> Runge-Kutta integration for systems of ordinary, linear differential equations. </p></li>
</ul>
<p id="2d43497">For this example we are going to use <a href="https://github.com/moritz/Math-Model"><span class="code">Math::Model</span></a> for its useful syntax, but remember that this module requires <a href="https://github.com/moritz/Math-RungeKutta"><span class="code">Math::RungeKutta</span></a> as well. Simply install them with <span class="important">zef</span> before using these examples. </p>

<div class="id-target" id="Malthus model"></div><h2 id="Malthus_model" class="heading py-2 "><a href="#" title="go to top of document">Malthus model</a><a class="raku-anchor" title="direct link" href="#Malthus model">§</a></h2>
<p id="341abb3">Let's start with the <span class="important">'Hello World'</span> of mathematical Ecology: <a href="https://en.wikipedia.org/wiki/Malthusian_growth_model">Malthusian growth model</a>. A Malthusian growth model, sometimes called a simple exponential growth model, is essentially exponential growth based on the idea of the function being proportional to the speed to which the function grows. The equation, then, looks like this: </p>
<p id="d74db75"><span class="important">dx/dt = g*x</span> </p>
<p id="7c45d84"><span class="important">x(0) = x_0</span> </p>
<p id="5550f07">Where <span class="important">g</span> is the population growth rate, sometimes called Malthusian parameter. </p>
<p id="6feb262">How can we translate that into Raku? Well Math::Model brings some help with a very understandable way to do that: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">use</span>&nbsp;Math::Model;<br><br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_scalar">$m</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;Math::Model.<span class="rainbow-routine">new</span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;derivatives&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-type">variables</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;<span class="rainbow-name_scalar">$:growth_constant</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;growth_constant&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;1&nbsp;}<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-comment"># basal growth rate<br></span>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;initials&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;3<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;captures&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span>)<span class="rainbow-operator">,</span><br>);<br><br><span class="rainbow-name_scalar">$m</span>.integrate(:from(0)<span class="rainbow-operator">,</span>&nbsp;:to(8)<span class="rainbow-operator">,</span>&nbsp;:min-resolution(0.5));<br><span class="rainbow-name_scalar">$m</span>.render-svg(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth malthus.svg</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span>&nbsp;:title(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth</span><span class="rainbow-string_delimiter">'</span>));
</pre>
</div>
                </div>
            <p id="f418bb9">To fully understand what is going on, let's go through it step by step. </p>

<div class="id-target" id="Step by step explanation"></div><h3 id="Step_by_step_explanation" class="heading py-2 "><a href="#" title="go to top of document">Step by step explanation</a><a class="raku-anchor" title="direct link" href="#Step by step explanation">§</a></h3>

<ul class="item-list"><li class="item" data-bullet="•" style="--level:0;"> <p id="a063ad0">First we load the module that make the calculations: <a href="https://github.com/moritz/Math-Model"><span class="code">Math::Model</span></a>. </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">use</span>&nbsp;Math::Model;
</pre>
</div>
                </div></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="488c7c0">We create the model to add all the information in it. </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_scalar">$m</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;Math::Model.<span class="rainbow-routine">new</span>(
</pre>
</div>
                </div></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="79f79a8">We declare the derivatives that are in our model. In this case, if you remember our equation, we have our variable <span class="important">x</span> and its derivative <span class="important">x'</span> (usually know as the velocity). </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
derivatives&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;velocity&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span><br>}<span class="rainbow-operator">,</span>
</pre>
</div>
                </div></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="e28e3ef">After that, we declare how our models evolve. We just need formulas for the derivatives that are not also integration variables (in this case, only <span class="important">x</span>), and for other variables we use in the formulas (the growth rate). </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-type">variables</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;velocity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;<span class="rainbow-name_scalar">$:growth_constant</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;growth_constant&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;1&nbsp;}<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-comment"># basal growth rate<br></span>}<span class="rainbow-operator">,</span>
</pre>
</div>
                </div></li>
<li class="item" data-bullet="•" style="--level:0;"> <p id="c9264e7">Finally we declare our initial conditions and use <span class="important">captures</span> to tell <a href="https://github.com/moritz/Math-Model"><span class="code">Math::Model</span></a> which variable or variables to record while the simulation is running. </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
initials&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;3<span class="rainbow-operator">,</span><br>}<span class="rainbow-operator">,</span><br>captures&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span>)<span class="rainbow-operator">,</span>
</pre>
</div>
                </div></li>
</ul>
<p id="166f371">At this point our model is set. We need to run the simulation and render a cool plot about our results: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-name_scalar">$m</span>.integrate(:from(0)<span class="rainbow-operator">,</span>&nbsp;:to(8)<span class="rainbow-operator">,</span>&nbsp;:min-resolution(0.5));<br><span class="rainbow-name_scalar">$m</span>.render-svg(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth malthus.svg</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span>&nbsp;:title(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth</span><span class="rainbow-string_delimiter">'</span>));
</pre>
</div>
                </div>
            <p id="d35b33d">There, we select our time limits and the resolution. Next, we generate a plot. All understood? Well, let's see our result! </p>
<p id="4518d61"><a href="https://rawgit.com/thebooort/perl-6-math-model-tutorial/master/population%20growth%20malthus.svg">link to the image</a> </p>
<p id="e1eab55">Looks great! But to be honest, it is quite unrepresentative. Let's explore other examples from more complex situations! </p>

<div class="id-target" id="Logistic model"></div><h2 id="Logistic_model" class="heading py-2 "><a href="#" title="go to top of document">Logistic model</a><a class="raku-anchor" title="direct link" href="#Logistic model">§</a></h2>
<p id="8dfa2bd">Resources aren't infinite and our population is not going to grow forever. P-F Verhulst thought the same thing, so he presented the <a href="https://en.wikipedia.org/wiki/Logistic_function">logistic model</a>. This model is a common model of population growth, where the rate of reproduction is proportional to both the existing population and the amount of available resources, all else being equal. It looks like this: </p>
<p id="d3298ff"><span class="important">dx/dt = g*x*(1-x/k)</span> </p>
<p id="39ab35e"><span class="important">x(0)=x_0</span> </p>
<p id="83c079d">where the constant g defines the growth rate and k is the carrying capacity. Modifying the above code we can simulate its behavior in time: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">use</span>&nbsp;Math::Model;<br><br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_scalar">$m</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;Math::Model.<span class="rainbow-routine">new</span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;derivatives&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-type">variables</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;<span class="rainbow-name_scalar">$:growth_constant</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>&nbsp;<span class="rainbow-operator">-</span>&nbsp;<span class="rainbow-name_scalar">$:growth_constant</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>&nbsp;<span class="rainbow-operator">/</span>&nbsp;<span class="rainbow-name_scalar">$:k</span>&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;growth_constant&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;1&nbsp;}<span class="rainbow-operator">,</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># basal growth rate<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;100&nbsp;}<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-comment"># carrying capacity<br></span>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;initials&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;3<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;captures&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span>)<span class="rainbow-operator">,</span><br>);<br><br><span class="rainbow-name_scalar">$m</span>.integrate(:from(0)<span class="rainbow-operator">,</span>&nbsp;:to(8)<span class="rainbow-operator">,</span>&nbsp;:min-resolution(0.5));<br><span class="rainbow-name_scalar">$m</span>.render-svg(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth logistic.svg</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span>&nbsp;:title(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth</span><span class="rainbow-string_delimiter">'</span>));
</pre>
</div>
                </div>
            <p id="4831644">Let's look at our cool plot: <a href="https://rawgit.com/thebooort/perl-6-math-model-tutorial/master/population%20growth%20logistic.svg">link to the image</a> </p>
<p id="f592b31">As you can see population growths till a maximum. </p>

<div class="id-target" id="Strong Allee Effect"></div><h2 id="Strong_Allee_Effect" class="heading py-2 "><a href="#" title="go to top of document">Strong Allee Effect</a><a class="raku-anchor" title="direct link" href="#Strong Allee Effect">§</a></h2>
<p id="bbab790">Interesting, isn't it? Even if these equations seem basic they are linked to a lot of behaviors in our world, like tumor growth. But, before end, let me show you a curious case. Logistic model could be accurate but... What happens when, from a certain threshold, the population size is so small that the survival rate and / or the reproductive rate drops due to the individual's inability to find other ones? </p>
<p id="275b42b">Well, this is an interesting phenomenon described by W.C.Allee, usually known as <a href="https://en.wikipedia.org/wiki/Allee_effect">Allee effect</a>. A simple way to obtain different behaviors associated with this effect is to use the logistic model as a departure, add some terms, and get a cubic growth model like this one: </p>
<p id="e56426c"><span class="important">dx/dt=r*x*(x/a-1)*(1-x/k)</span> </p>
<p id="c975928">where all the constants are the same as before and A is called <span class="important">critical point</span>. </p>
<p id="b0567f2">Our code would be: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">use</span>&nbsp;Math::Model;<br><br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_scalar">$m</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;Math::Model.<span class="rainbow-routine">new</span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;derivatives&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity_x&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-type">variables</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity_x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;<span class="rainbow-name_scalar">$:growth_constant</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>&nbsp;<span class="rainbow-operator">*</span>(<span class="rainbow-name_scalar">$:x</span>/<span class="rainbow-name_scalar">$:a</span>&nbsp;-1)<span class="rainbow-operator">*</span>(1-&nbsp;<span class="rainbow-name_scalar">$:x</span>/<span class="rainbow-name_scalar">$:k</span>)&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;growth_constant&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;0.7&nbsp;}<span class="rainbow-operator">,</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># basal growth rate<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;100&nbsp;}<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-comment"># carrying capacity<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;15&nbsp;}<span class="rainbow-operator">,</span>&nbsp;&nbsp;<span class="rainbow-comment"># critical point<br></span>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;initials&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;15<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;captures&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span>)<span class="rainbow-operator">,</span><br>);<br><br><span class="rainbow-name_scalar">$m</span>.integrate(:from(0)<span class="rainbow-operator">,</span>&nbsp;:to(100)<span class="rainbow-operator">,</span>&nbsp;:min-resolution(0.5));<br><span class="rainbow-name_scalar">$m</span>.render-svg(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth allee.svg</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span>&nbsp;:title(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth</span><span class="rainbow-string_delimiter">'</span>));
</pre>
</div>
                </div>
            <p id="4d86fb6">Try to execute this one yourself to see the different behaviors that arise when you change the initial condition around the critical point! </p>

<div class="id-target" id="Weak Allee Effect"></div><h2 id="Weak_Allee_Effect" class="heading py-2 "><a href="#" title="go to top of document">Weak Allee Effect</a><a class="raku-anchor" title="direct link" href="#Weak Allee Effect">§</a></h2>
<p id="8f02295">Whilst the strong Allee effect is a demographic Allee effect with a critical population size or density, the weak Allee effect is a demographic Allee effect without a critical population size or density, i.e., a population exhibiting a weak Allee effect will possess a reduced per capita growth rate at lower population density or size. However, even at this low population size or density, the population will always exhibit a positive per capita growth rate. This model differs lightly from the strong one, getting a new formula: </p>
<p id="35f9315"><span class="important">dx/dt=r*x*(1-x/k)*(x/a)**n</span>, with n&gt;0 </p>
<p id="b0567f2">Our code would be: </p>

                <div class="raku-code">
                    <button class="copy-code" title="Copy code"><i class="far fa-clipboard"></i></button>
                    <label>Raku highlighting</label>
                    <div><pre class="nohighlights">
<span class="rainbow-keyword">use</span>&nbsp;Math::Model;<br><br><span class="rainbow-keyword">my</span>&nbsp;<span class="rainbow-name_scalar">$m</span>&nbsp;<span class="rainbow-operator">=</span>&nbsp;Math::Model.<span class="rainbow-routine">new</span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;derivatives&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity_x&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-type">variables</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;velocity_x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;<span class="rainbow-name_scalar">$:growth_constant</span>&nbsp;<span class="rainbow-operator">*</span>&nbsp;<span class="rainbow-name_scalar">$:x</span>&nbsp;<span class="rainbow-operator">*</span>(1-&nbsp;<span class="rainbow-name_scalar">$:x</span>/<span class="rainbow-name_scalar">$:k</span>)<span class="rainbow-operator">*</span>(<span class="rainbow-name_scalar">$:x</span>/<span class="rainbow-name_scalar">$:a</span>)<span class="rainbow-operator">**</span><span class="rainbow-name_scalar">$:n</span>&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;growth_constant&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;0.7&nbsp;}<span class="rainbow-operator">,</span>&nbsp;&nbsp;&nbsp;<span class="rainbow-comment"># basal growth rate<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;100&nbsp;}<span class="rainbow-operator">,</span>&nbsp;<span class="rainbow-comment"># carrying capacity<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;15&nbsp;}<span class="rainbow-operator">,</span>&nbsp;&nbsp;<span class="rainbow-comment"># critical point<br></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{&nbsp;4&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;initials&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">x</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;15<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="rainbow-operator">,</span><br>&nbsp;&nbsp;&nbsp;&nbsp;captures&nbsp;&nbsp;&nbsp;&nbsp;<span class="rainbow-operator">=&gt;</span>&nbsp;(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">x</span><span class="rainbow-string_delimiter">'</span>)<span class="rainbow-operator">,</span><br>);<br><br><span class="rainbow-name_scalar">$m</span>.integrate(:from(0)<span class="rainbow-operator">,</span>&nbsp;:to(100)<span class="rainbow-operator">,</span>&nbsp;:min-resolution(0.5));<br><span class="rainbow-name_scalar">$m</span>.render-svg(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth allee.svg</span><span class="rainbow-string_delimiter">'</span><span class="rainbow-operator">,</span>&nbsp;:title(<span class="rainbow-string_delimiter">'</span><span class="rainbow-string">population growth</span><span class="rainbow-string_delimiter">'</span>));
</pre>
</div>
                </div>
            
<div class="id-target" id="Extra info"></div><h2 id="Extra_info" class="heading py-2 "><a href="#" title="go to top of document">Extra info</a><a class="raku-anchor" title="direct link" href="#Extra info">§</a></h2>
<p id="483b973">Do you like physics? Check the original post by the creator of the modules that have been used, Moritz Lenz: <a href="https://perlgeek.de/blog-en/perl-6/physical-modelling.html">https://perlgeek.de/blog-en/perl-6/physical-modelling.html</a>. </p>

        </div>
        <div class="content px-4">
        
        </div>
    </div>
</div>

    <footer class="footer main-footer">
    <div class="container px-4">
        <nav class="level">
            <div class="level-item">
                <span class="Elucid8-ui" data-UIToken="FileSource">Source</span><span class="footer-field">Language/math
            </div>
            <div class="level-item">
                <span class="Elucid8-ui" data-UIToken="Time">Time</span>
            </div>
            <div class="level-item">
                <span class="Elucid8-ui" data-UIToken="SourceModified">SourceModified</span> 10:42 UTC, 2024-12-29
            </div>
        </nav>
    </div>
    
</footer>

</body>
</html>
